<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Alcoding Club | Editorials</title><link rel="stylesheet" href="https://bootswatch.com/4/lux/bootstrap.min.css"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="preload" href="/editorials/_next/static/css/5b392630e742cc857810.css" as="style"/><link rel="stylesheet" href="/editorials/_next/static/css/5b392630e742cc857810.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/editorials/_next/static/chunks/main-79d6d556cd81f503698e.js" as="script"/><link rel="preload" href="/editorials/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/editorials/_next/static/chunks/framework.cb05d56be993eb6b088a.js" as="script"/><link rel="preload" href="/editorials/_next/static/chunks/3ef630e34cd10ba68f9d468ac363ff81c534e1e9.433bb325642694f7dbf6.js" as="script"/><link rel="preload" href="/editorials/_next/static/chunks/pages/_app-20fc78410fa93af4c468.js" as="script"/><link rel="preload" href="/editorials/_next/static/chunks/pages/problems/%5Bid%5D-2c981d2814853e706423.js" as="script"/></head><body><div id="__next"><div><nav class="navbar navbar-expand-lg navbar-light bg-light"><a class="nav-link" href="/editorials/"><img src="/editorials/logo.jpg" width="80" height="70" alt="the alcoding club logo"/></a><a class="navbar-brand" href="#">Editorials</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarColor03"><ul class="navbar-nav mr-auto"><li class="nav-item active"><a class="nav-link" href="/editorials/">Home <span class="sr-only">(current)</span></a></li></ul></div></nav><div class="container"><button type="button" class="btn btn-link editorial-link"><a href="https://www.hackerrank.com/contests/alcoding-summer-challenge-2021/challenges/control-tower" target="_blank">View Problem</a></button><div class="jumbotron"><div><p>Tags: Heaps</p>
<p>The node with the minimum cumulative distance would be the one right in the centre.
That node would essentially be the median node based on its distance value.</p>
<p>The problem's now reduced to keeping track of the median of a list that's being updated.</p>
<p>Given a list, sorted in ascending order, if we were to know the largest element of the left half of the list, and the smallest element of the right half, we could determine the median of that list.</p>
<p>Implementation</p>
<p>To achieve what's required, we could maintian two heaps, a max heap for the left half, and a min heap for the right.
Each number could be added into one of the two heaps, and the sizes of the heaps could be balanced to make sure they're storing two halves of the current sequence.</p>
<p>Initialize a max-heap left, and a min-heap right</p>
<ol>
<li>If the number is greater than the top of left, it belongs to right, otherwise it belongs to left</li>
<li>In case the difference in size of the two heaps exceeds 2, the top of either right or left could be shifted to the other heap. (This way, it's guarranteed the size of the two heaps would be equal if there are an even number of elements in the current sequence, or the sizes would differ by exactly 1 in case the sequence size is odd.)</li>
<li>Since the heaps are always balanced relative to each other, the top of the larger heap will always correspond to the median of the sequence.</li>
</ol>
</div></div><ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link " data-toggle="tab">C++</a></li></ul><pre style="display:block;overflow-x:auto;padding:0.5em;background:#F0F0F0;color:#444"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span></code><code></code></pre></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"editorialData":{"editorial":"\u003cp\u003eTags: Heaps\u003c/p\u003e\n\u003cp\u003eThe node with the minimum cumulative distance would be the one right in the centre.\nThat node would essentially be the median node based on its distance value.\u003c/p\u003e\n\u003cp\u003eThe problem's now reduced to keeping track of the median of a list that's being updated.\u003c/p\u003e\n\u003cp\u003eGiven a list, sorted in ascending order, if we were to know the largest element of the left half of the list, and the smallest element of the right half, we could determine the median of that list.\u003c/p\u003e\n\u003cp\u003eImplementation\u003c/p\u003e\n\u003cp\u003eTo achieve what's required, we could maintian two heaps, a max heap for the left half, and a min heap for the right.\nEach number could be added into one of the two heaps, and the sizes of the heaps could be balanced to make sure they're storing two halves of the current sequence.\u003c/p\u003e\n\u003cp\u003eInitialize a max-heap left, and a min-heap right\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eIf the number is greater than the top of left, it belongs to right, otherwise it belongs to left\u003c/li\u003e\n\u003cli\u003eIn case the difference in size of the two heaps exceeds 2, the top of either right or left could be shifted to the other heap. (This way, it's guarranteed the size of the two heaps would be equal if there are an even number of elements in the current sequence, or the sizes would differ by exactly 1 in case the sequence size is odd.)\u003c/li\u003e\n\u003cli\u003eSince the heaps are always balanced relative to each other, the top of the larger heap will always correspond to the median of the sequence.\u003c/li\u003e\n\u003c/ol\u003e\n","solutions":{"cpp":"#include\u003cbits/stdc++.h\u003e\nusing namespace std;\n\nvoid addNode(priority_queue\u003cpair\u003cint, int\u003e \u003e\u0026  left,\n    priority_queue\u003cpair\u003cint, int\u003e, vector\u003cpair\u003cint, int\u003e\u003e, greater\u003cpair\u003cint, int\u003e \u003e \u003e\u0026 right, int x, int v) {\n    pair\u003cint, int\u003e node = { v, x };\n    if(node \u003e left.top())\n        right.push(node);\n    else\n        left.push(node);\n    if (left.size() \u003e right.size() + 1) {\n        right.push(left.top());\n        left.pop();\n    } else if (right.size() \u003e left.size() + 1) {\n        left.push(right.top());\n        right.pop();\n    }\n}\n\nint main() {\n    int d, x, v;\n    cin \u003e\u003e d;\n    cin \u003e\u003e x \u003e\u003e v;\n\n    priority_queue\u003cpair\u003cint, int\u003e \u003e  left;\n    priority_queue\u003cpair\u003cint, int\u003e, vector\u003cpair\u003cint, int\u003e\u003e, greater\u003cpair\u003cint, int\u003e \u003e \u003e right;\n\n    left.push({ v, x });\n\n    for(int i = 0; i \u003c d; ++i) {\n        cin \u003e\u003e x \u003e\u003e v;\n        addNode(left, right, x, v);\n        cin \u003e\u003e x \u003e\u003e v;\n        addNode(left, right, x, v);\n        if (left.size() \u003e right.size())\n            cout \u003c\u003c left.top().second \u003c\u003c \"\\n\";\n        else\n            cout \u003c\u003c right.top().second \u003c\u003c \"\\n\";\n    }\n\n    return 0;\n} "},"problemData":{"id":"CNODE1","title":"Control Tower","difficulty":"hard","problem_url":"https://www.hackerrank.com/contests/alcoding-summer-challenge-2021/challenges/control-tower"}}},"__N_SSG":true},"page":"/problems/[id]","query":{"id":"CNODE1"},"buildId":"94TKz0qrnApQ8QsWloy59","assetPrefix":"/editorials","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["title",{"children":"Alcoding Club | Editorials"}],["link",{"rel":"stylesheet","href":"https://bootswatch.com/4/lux/bootstrap.min.css"}],["link",{"rel":"shortcut icon","href":"/favicon.ico"}]]}</script><script nomodule="" src="/editorials/_next/static/chunks/polyfills-57d8738e7416f8423303.js"></script><script src="/editorials/_next/static/chunks/main-79d6d556cd81f503698e.js" async=""></script><script src="/editorials/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/editorials/_next/static/chunks/framework.cb05d56be993eb6b088a.js" async=""></script><script src="/editorials/_next/static/chunks/3ef630e34cd10ba68f9d468ac363ff81c534e1e9.433bb325642694f7dbf6.js" async=""></script><script src="/editorials/_next/static/chunks/pages/_app-20fc78410fa93af4c468.js" async=""></script><script src="/editorials/_next/static/chunks/pages/problems/%5Bid%5D-2c981d2814853e706423.js" async=""></script><script src="/editorials/_next/static/94TKz0qrnApQ8QsWloy59/_buildManifest.js" async=""></script><script src="/editorials/_next/static/94TKz0qrnApQ8QsWloy59/_ssgManifest.js" async=""></script></body></html>